{"version":3,"sources":["../../src/pages/list-master/list-master.module.ts","../../src/pages/list-master/list-master.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { ListMasterPage } from './list-master';\n\n@NgModule({\n  declarations: [\n    ListMasterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ListMasterPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    ListMasterPage\n  ]\n})\nexport class ListMasterPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list-master/list-master.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController } from 'ionic-angular';\nimport {HttpClient} from \"@angular/common/http\";\nimport {Observable} from \"rxjs\";\n\n@IonicPage()\n@Component({\n  selector: 'page-list-master',\n  templateUrl: 'list-master.html'\n})\nexport class ListMasterPage {\n  public serverResponse:any;\n  public filterTransactions:any;\n  public wholeArray:any = {length:0};\n  public user:string;\n  public balance:number;\n  public arraySize: number;\n  public filterSearch: string;\n  public filterOption: string;\n\n  constructor(public navCtrl: NavController, public http: HttpClient) {\n    this.user = sessionStorage.getItem(\"username\");\n    this.arraySize = 10;\n    if(navigator.onLine) {\n      this.loadTransactions();\n    } else {\n      let trans = sessionStorage.getItem('transactions');\n      let transArr = JSON.parse(trans);\n      this.wholeArray = transArr;\n      this.filterTransactions = this.wholeArray.slice(0,this.arraySize);\n      this.balance = +sessionStorage.getItem(\"balance\");\n    }\n    this.filterOption = 'all';\n    this.filterSearch = '';\n  }\n\n  loadTransactions(){\n    let data:Observable<any>;\n    data = this.http.post('https://localhost:8888/user/transactions', {username: this.user});\n    data.subscribe(result=>{\n      this.serverResponse = result;\n      this.balance = this.serverResponse.balance;\n      this.wholeArray = this.serverResponse.transactions;\n      this.filterTransactions = this.wholeArray.slice(0,this.arraySize);\n      let json = JSON.stringify(this.serverResponse.transactions);\n      sessionStorage.setItem(\"transactions\", json);\n      sessionStorage.setItem(\"balance\", this.serverResponse.balance);\n    });\n  }\n\n  filterSearchbar(param:any):void {\n    this.filterSearch = param.toString().trim().toLowerCase();\n    this.filter();\n  }\n\n  filterChooseOption(param:any):void {\n    this.filterOption = param.toString().trim().toLowerCase();\n    this.filter();\n  }\n\n  filter(){\n\n    this.filterTransactions = this.wholeArray.slice(0, this.arraySize);\n\n    if (this.filterOption !== 'all') {\n      if (this.filterOption == 'done' || this.filterOption == 'pending') {\n        this.filterTransactions = this.filterTransactions.filter((item) => {\n          return item.status.toLowerCase().indexOf(this.filterOption) > -1;\n        })\n      } else {\n        this.filterTransactions = this.filterTransactions.filter((item) => {\n          return item.type.toLowerCase().indexOf(this.filterOption) > -1;\n        })\n      }\n    }\n\n    if (this.filterSearch !== '') {\n      this.filterTransactions= this.filterTransactions.filter((item) => {\n        return item.source_name.toLowerCase().indexOf(this.filterSearch) > -1 || item.destination_name.toLowerCase().indexOf(this.filterSearch) > -1 || item.reference.toLowerCase().indexOf(this.filterSearch) > -1;\n      })\n    }\n  }\n\n  slice(){\n    this.arraySize = this.arraySize - 10;\n    this.filter();\n  }\n\n  expand(){\n    this.arraySize = this.arraySize + 10;\n    this.filter();\n  }\n\n  checkSizeBig(){\n    return Boolean(this.arraySize > this.wholeArray.length);\n  }\n\n  checkSizeSmall(){\n    return Boolean (10 >= this.arraySize);\n  }\n\n  logout() {\n    sessionStorage.removeItem(\"username\");\n    this.navCtrl.push('WelcomePage')\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list-master/list-master.ts"],"sourceRoot":""}